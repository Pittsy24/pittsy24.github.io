<!DOCTYPE html>
<html lang="en-gb">

<head>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "TechArticle",
        "headline": "Advent of Code Day 10: Adapter Array",
        "datePublished": "2020-12-10",
        "author": {
          "@type": "Person",
          "name": "Joe Pitts",
          "additionalName": "David",
          "affiliation": "University of Lincoln",
          "jobTitle": "Developer",
          "url": "https://JoePitts.co.uk",
          "sameAs": [
            "https://www.facebook.com/Joe.Pittsy",
            "https://www.linkedin.com/in/JoePittsy",
            "https://twitter.com/JoePittsy",
            "https://www.instagram.com/JoePittsy/",
            "https://github.com/JoePittsy"
          ]
        },
        "description": "Day Ten of Advent of Code 2020!",
        "image": "https://joepitts.co.uk/resources/images/xmas/10.jpg"
   
      }
    </script>

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@JoePittsy" />
    <meta name="twitter:description" content="Adapter Array | Advent of Code 2020!" name="description" />
    <meta name="twitter:title" content="Joe Pitts | Advent of Code Day 10" />
    <meta name="twitter:creator" content="@JoePittsy" />
    <meta property="og:image" content="https://joepitts.co.uk/resources/images/xmas/10.jpg" />

    <meta property="og:title" content="Advent of Code Day 10" />
    <meta property="og:description" content="Day Ten of Advent of Code 2020!" />
    <meta property="og:url" content="https://joepitts.co.uk/blog/advent-of-code-day-10.html" />
    <meta name="author" content="Joe Pitts" />

    <meta name="twitter:image" content="https://joepitts.co.uk/resources/images/xmas/10.jpg" />

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-114382787-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
            dataLayer.push(arguments);
        }
        gtag("js", new Date());
        gtag("config", "UA-114382787-2");
    </script>
    <script src="/js/darkMode.js" type="text/javascript"></script>
    <script src="/js/clipboard.min.js"></script>
    <link href="/resources/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180" />
    <link href="/resources/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" />
    <link href="/resources/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" />
    <link href="/resources/site.webmanifest" rel="manifest" />
    <link href="/resources/safari-pinned-tab.svg" rel="mask-icon" />
    <meta content="#da532c" name="msapplication-TileColor" />
    <meta content="#ffffff" name="theme-color" />
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <title>Joe Pitts | Advent of Code Day 10</title>
    <link href="/style.css" rel="stylesheet" type="text/css" />
    <meta content="Advent of Code Day 10!" name="description" />
    <meta lang="en-gb" />
    <noscript>
        <style>
            .jsonly {
                display: nones
            }
        </style>
    </noscript>
</head>

<body link="black" style="height: auto;">
    <div class="content" id="content">
        <header>
            <div id="containter">
                <div id="header">
                    <img alt="Joe Pitts" id="logo" src="/resources/JoePitts.jpg" title="Joe Pitts" width="10%" />
                    <a href="/" id="title">
                        <p>Joe Pitts</p>
                    </a>
                    <div class="burger" onclick="document.getElementById('drop').click();">
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                </div>
            </div>
            <aside>
                <nav id="burger">
                    <label class="toggle" for="drop" style="pointer-events: none;"></label>
                    <input id="drop" type="checkbox" />
                    <ul class="menu" id="burger_menu">
                        <li>
                            <a href="/">Home</a>
                        </li>
                        <li>
                            <a href="/blog">Blog</a>
                        </li>
                        <li>
                            <a href="/work.html">My Work</a>
                        </li>
                        <li>
                            <a href="/games/">Games</a>
                        </li>

                        <li>
                            <a href="/instagram.html">Photography</a>
                        </li>
                        <li>
                            <a class="toggleDark" onclick="toggleNightMode();">Dark Mode</a>
                        </li>
                    </ul>
                </nav>
                <nav id="normalMenu">
                    <ul class="menu">
                        <li>
                            <a href="/">Home</a>
                        </li>
                        <li>
                            <a href="/blog">Blog</a>
                        </li>
                        <li>
                            <a href="/work.html">My Work</a>
                        </li>
                        <li>
                            <a href="/games/">Games</a>
                        </li>

                        <li>
                            <a href="/instagram.html">Photography</a>
                        </li>
                        <li>
                            <a class="toggleDark" onclick="toggleNightMode();">Dark Mode</a>
                        </li>
                    </ul>
                </nav>
            </aside>
        </header>
        <hr />
        <div class="blogPost">
            <h1>Advent of Code: Day #10 - Adapter Array</h1>
            <span id="readingTime">
                <date>10th of December 2020</date> |
                <p>4 - 5 minutes</p>
            </span>
            <a class="anchor" href="#introduction">
                <h2 id="introduction">Introduction</h2>
            </a>
            <p>
                In to double digits, only 15 days left! Today we must dig through our great big bag of connectors to
                find the right combination to charge our laptop (Probably why we needed to bring so many bags on <a
                    href="https://joepitts.co.uk/blog/advent-of-code-day-07.html">Day 7</a>)!
            </p>

            <a class="anchor" href="#one">
                <h2 id="one">Task One</h2>
            </a>
            <p>
                For this task we are asked to use every single adapter we have in a big chain (definitely not a fire
                hazard)
                and calculate how many Jolt differences there are and return the product of the sum of 1 Jolt and 3 Jolt
                increases.
            </p>
            <h3>Reading in the data</h3>
            <p>
                We read the data into an array, append the starting joltage of 0 and the finishing joltage of our laptop
                (Maximum Joltage in the list +3) and then sort the array.
            </p>

            <div class="codeSnippet">
                <div class="double-val-label">
                    <span class="python">Python</span>
                    <span data-clipboard-target="#getDataIn" id="dataCopy">Copy</span>
                </div>

                <pre><div id="getDataIn" style="color: #383a42; font-family: 'Fira Code', 'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback';font-weight: normal;font-size: 15px;line-height: 19px;white-space: pre;" spellcheck="false" contenteditable="false"><div><div><span style="color: #a626a4;">def</span><span style="color: #383a42;"> </span><span style="color: #4078f2;">read_data</span><span style="color: #383a42;">(</span><span style="color: #986801;">path</span><span style="color: #383a42;">):</span></div><div><span style="color: #383a42;">    dataset = []</span></div><div><span style="color: #383a42;">    </span><span style="color: #a626a4;">with</span><span style="color: #383a42;"> </span><span style="color: #0184bc;">open</span><span style="color: #383a42;">(path, </span><span style="color: #50a14f;">"r"</span><span style="color: #383a42;">) </span><span style="color: #a626a4;">as</span><span style="color: #383a42;"> </span><span style="color: #e45649;">file</span><span style="color: #383a42;">:</span></div><div><span style="color: #383a42;">        </span><span style="color: #a626a4;">for</span><span style="color: #383a42;"> line </span><span style="color: #a626a4;">in</span><span style="color: #383a42;"> </span><span style="color: #e45649;">file</span><span style="color: #383a42;">.readlines():</span></div><div><span style="color: #383a42;">            dataset.append(</span><span style="color: #0184bc;">int</span><span style="color: #383a42;">(line.strip()))</span></div><br><div><span style="color: #383a42;">    dataset.append(</span><span style="color: #986801;">0</span><span style="color: #383a42;">)</span></div><div><span style="color: #383a42;">    dataset.append(</span><span style="color: #0184bc;">max</span><span style="color: #383a42;">(dataset) + </span><span style="color: #986801;">3</span><span style="color: #383a42;">)</span></div><div><span style="color: #383a42;">    dataset = </span><span style="color: #0184bc;">sorted</span><span style="color: #383a42;">(dataset)</span></div><br><div><span style="color: #383a42;">    </span><span style="color: #a626a4;">return</span><span style="color: #383a42;"> dataset</span></div></div></div></pre>
            </div>

            <h3>The Solution</h3>
            <p>
                To solve this we iterate over all the adapters and calculate the jolt difference between the current
                adapter and the previous one. We then increment the value in the dictionary. Once we have iterated over
                all the chargers we return the product of the 1 Jolt and 3 Jolt totals.
            </p>
            <div class="codeSnippet">
                <div class="double-val-label">
                    <span class="python">Python</span>
                    <span data-clipboard-target="#getTaskOne" id="oneCopy">Copy</span>
                </div>
                <pre id="getTaskOne"
                    spellcheck="false"><div style="color: #383a42;font-family: 'Fira Code', 'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback';font-weight: normal;font-size: 15px;line-height: 20px;white-space: pre;" spellcheck="false" contenteditable="false"><div><div><span style="color: #a626a4;">def</span><span style="color: #383a42;"> </span><span style="color: #4078f2;">task_one</span><span style="color: #383a42;">(</span><span style="color: #986801;">adapters</span><span style="color: #383a42;">):</span></div><div><span style="color: #383a42;">    voltage_jumps = {</span><span style="color: #986801;">1</span><span style="color: #383a42;">: </span><span style="color: #986801;">0</span><span style="color: #383a42;">, </span><span style="color: #986801;">2</span><span style="color: #383a42;">: </span><span style="color: #986801;">0</span><span style="color: #383a42;">, </span><span style="color: #986801;">3</span><span style="color: #383a42;">: </span><span style="color: #986801;">0</span><span style="color: #383a42;">}</span></div><br><div><span style="color: #383a42;">    prev_voltage = adapters[</span><span style="color: #986801;">0</span><span style="color: #383a42;">]</span></div><div><span style="color: #383a42;">    </span><span style="color: #a626a4;">for</span><span style="color: #383a42;"> adapter </span><span style="color: #a626a4;">in</span><span style="color: #383a42;"> adapters[</span><span style="color: #986801;">1</span><span style="color: #383a42;">:]:</span></div><div><span style="color: #383a42;">        voltage_jumps[adapter - prev_voltage] += </span><span style="color: #986801;">1</span></div><div><span style="color: #383a42;">        prev_voltage = adapter</span></div><br><div><span style="color: #383a42;">    </span><span style="color: #a626a4;">return</span><span style="color: #383a42;"> voltage_jumps[</span><span style="color: #986801;">1</span><span style="color: #383a42;">] * voltage_jumps[</span><span style="color: #986801;">3</span><span style="color: #383a42;">]</span></div></div></div></pre>
            </div>

            <a class="anchor" href="#two">
                <h2 id="two">Task Two</h2>
            </a>
            <h3>The Solution</h3>
            <p>
                For task two we must find the total different combinations we can plug the adapters in (An adapter can
                plug into another if it has a jolt difference of 3). The number we expect is in the trillions so a brute
                force solution isn't going to work here (At least not in a sane amount of time). To get around this we
                can store a dictionary of paths we have found before, i.e once we have found the amount of combinations
                from the 8th adapter we can store that and the next time we see the 8th adapter we can just reuse that
                value instead of re-calculating it! This is known as dynamic programming.
            </p>
            <div class="codeSnippet">
                <div class="double-val-label">
                    <span class="python">Python</span>
                    <span data-clipboard-target="#getTaskTwo" id="twoCopy">Copy</span>
                </div>
                <pre spellcheck="false"
                    id="getTaskTwo"><div style="color: #383a42;font-family: 'Fira Code', 'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback';font-weight: normal;font-size: 15px;line-height: 20px;white-space: pre; " spellcheck="false" contenteditable="false"><div><div><span style="color: #a626a4;">def</span><span style="color: #383a42;"> </span><span style="color: #4078f2;">task_two</span><span style="color: #383a42;">(</span><span style="color: #986801;">adapters</span><span style="color: #383a42;">):</span></div><br><div><span style="color: #383a42;">    found_paths = {}</span></div><br><div><span style="color: #383a42;">    </span><span style="color: #a626a4;">def</span><span style="color: #383a42;"> </span><span style="color: #4078f2;">find_from</span><span style="color: #383a42;">(</span><span style="color: #986801;">x</span><span style="color: #383a42;">):</span></div><div><span style="color: #383a42;">        </span><span style="color: #a626a4;">if</span><span style="color: #383a42;"> x == </span><span style="color: #0184bc;">len</span><span style="color: #383a42;">(adapters) - </span><span style="color: #986801;">1</span><span style="color: #383a42;">:</span></div><div><span style="color: #383a42;">            </span><span style="color: #a626a4;">return</span><span style="color: #383a42;"> </span><span style="color: #986801;">1</span></div><div><span style="color: #383a42;">        </span><span style="color: #a626a4;">if</span><span style="color: #383a42;"> x </span><span style="color: #a626a4;">in</span><span style="color: #383a42;"> found_paths:</span></div><div><span style="color: #383a42;">            </span><span style="color: #a626a4;">return</span><span style="color: #383a42;"> found_paths[x]</span></div><br><div><span style="color: #383a42;">        possibilities = </span><span style="color: #986801;">0</span></div><br><div><span style="color: #383a42;">        </span><span style="color: #a626a4;">for</span><span style="color: #383a42;"> j </span><span style="color: #a626a4;">in</span><span style="color: #383a42;"> </span><span style="color: #0184bc;">range</span><span style="color: #383a42;">(x+</span><span style="color: #986801;">1</span><span style="color: #383a42;">, x+</span><span style="color: #986801;">4</span><span style="color: #383a42;"> </span><span style="color: #a626a4;">if</span><span style="color: #383a42;"> x+</span><span style="color: #986801;">4</span><span style="color: #383a42;"> &lt; </span><span style="color: #0184bc;">len</span><span style="color: #383a42;">(adapters) </span><span style="color: #a626a4;">else</span><span style="color: #383a42;"> </span><span style="color: #0184bc;">len</span><span style="color: #383a42;">(adapters)):</span></div><div><span style="color: #383a42;">            </span><span style="color: #a626a4;">if</span><span style="color: #383a42;"> adapters[j] - adapters[x] &lt;= </span><span style="color: #986801;">3</span><span style="color: #383a42;">:</span></div><div><span style="color: #383a42;">                possibilities += find_from(j)</span></div><br><div><span style="color: #383a42;">        found_paths[x] = possibilities</span></div><div><span style="color: #383a42;">        </span><span style="color: #a626a4;">return</span><span style="color: #383a42;"> possibilities</span></div><br><div><span style="color: #383a42;">    </span><span style="color: #a626a4;">return</span><span style="color: #383a42;"> find_from(</span><span style="color: #986801;">0</span><span style="color: #383a42;">)</span></div></div></div></pre>
                </div>

            <a class="anchor" href="#links">
                <h2 id="links">Links</h2>
            </a>
            <div class="download">
                <p><a href="https://adventofcode.com/2020/leaderboard/private">Leaderboard Code:</a>
                    <small>353270-1fc6ef28</small></p>
            </div>

            <div class="download">
                <p><a href="https://www.github.com/JoePittsy/AdventOfCode/">Github Repository</a>
                    <small>A link to the github repo containing all the days.</small></p>
            </div>
            <div class="download">
                <p><a href="https://raw.githubusercontent.com/JoePittsy/AdventOfCode/main/Day 10/main.py"
                        download>main.py</a>
                    <small>A direct download of the main.py script</small></p>
                <p class="download__instructions">
                    <small class="download__properties">2.5<abbr title="Kilobytes">Kb</abbr></small>
                </p>
            </div>


        </div>
        <p></p>
        <div id="disqus_thread"></div>
        <script>
            (function () {
                // DON'T EDIT BELOW THIS LINEx
                var d = document,
                    s = d.createElement("script");
                s.src = "https://joepitts-co-uk.disqus.com/embed.js";
                s.setAttribute("data-timestamp", +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the
            <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    <div class="footer">
        <p align="center">
            <a href="https://linkedin.com/in/JoePittsy">LinkedIn</a>&nbsp;&nbsp;
            <a href="https://twitter.com/JoePittsy">Twitter</a>&nbsp;&nbsp;<a
                href="https://instagram.com/JoePittsy">Instagram</a>&nbsp;&nbsp;<a
                href="https://github.com/JoePittsy">GitHub</a>
        </p>
        <p id="copyright">Copyright Â© 2018-2020 Joe Pitts</p>
    </div>
    <script defer>
        (function () {
            new ClipboardJS("#dataCopy, #oneCopy, #twoCopy, #compCopy");
        })();
    </script>
</body>

</html>